

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>fir — thermal sensor driver (fir == far infrared) &mdash; MicroPython 1.13 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/openmv.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/customstyle.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="tv — tv shield driver" href="omv.tv.html" />
    <link rel="prev" title="lcd — lcd driver" href="omv.lcd.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MicroPython
          

          
            
            <img src="../_static/web-logo-sticky.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MicroPython libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#python-standard-libraries-and-micro-libraries">Python standard libraries and micro-libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#micropython-specific-libraries">MicroPython-specific libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#libraries-specific-to-the-openmv-cam">Libraries specific to the OpenMV Cam</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pyb.html"><code class="docutils literal notranslate"><span class="pre">pyb</span></code> — functions related to the board</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.sensor.html"><code class="docutils literal notranslate"><span class="pre">sensor</span></code> — camera sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.image.html"><code class="docutils literal notranslate"><span class="pre">image</span></code> — machine vision</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.tf.html"><code class="docutils literal notranslate"><span class="pre">tf</span></code> — Tensor Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.gif.html"><code class="docutils literal notranslate"><span class="pre">gif</span></code> — gif recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.mjpeg.html"><code class="docutils literal notranslate"><span class="pre">mjpeg</span></code> — mjpeg recording</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.audio.html"><code class="docutils literal notranslate"><span class="pre">audio</span></code> — Audio Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.micro_speech.html"><code class="docutils literal notranslate"><span class="pre">micro_speech</span></code> — Micro Speech Audio Module Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.lcd.html"><code class="docutils literal notranslate"><span class="pre">lcd</span></code> — lcd driver</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">fir</span></code> — thermal sensor driver (fir == far infrared)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#constants">Constants</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="omv.tv.html"><code class="docutils literal notranslate"><span class="pre">tv</span></code> — tv shield driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.cpufreq.html"><code class="docutils literal notranslate"><span class="pre">cpufreq</span></code> — CPU Frequency Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.imu.html"><code class="docutils literal notranslate"><span class="pre">imu</span></code> — imu sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rpc.html"><code class="docutils literal notranslate"><span class="pre">rpc</span></code> — rpc library</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.rtsp.html"><code class="docutils literal notranslate"><span class="pre">rtsp</span></code> — rtsp library</a></li>
<li class="toctree-l3"><a class="reference internal" href="omv.omv.html"><code class="docutils literal notranslate"><span class="pre">omv</span></code> — OpenMV Cam Information</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#third-party-libraries-on-the-openmv-cam">Third-party libraries on the OpenMV Cam</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">MicroPython language and implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genrst/index.html">MicroPython differences from CPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">MicroPython license information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openmvcam/quickref.html">Quick reference for the openmvcam</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MicroPython</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">MicroPython libraries</a> &raquo;</li>
        
      <li><code class="docutils literal notranslate"><span class="pre">fir</span></code> — thermal sensor driver (fir == far infrared)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/library/omv.fir.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-fir">
<span id="fir-thermal-sensor-driver-fir-far-infrared"></span><h1><a class="reference internal" href="#module-fir" title="fir: thermal sensor driver (fir == far infrared)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fir</span></code></a> — thermal sensor driver (fir == far infrared)<a class="headerlink" href="#module-fir" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">fir</span></code> module is used for controlling the thermal sensors.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sensor</span><span class="o">,</span> <span class="nn">fir</span>

<span class="c1"># Setup camera.</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">set_pixformat</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">RGB565</span><span class="p">)</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">set_framesize</span><span class="p">(</span><span class="n">sensor</span><span class="o">.</span><span class="n">QVGA</span><span class="p">)</span>
<span class="n">sensor</span><span class="o">.</span><span class="n">skip_frames</span><span class="p">()</span>
<span class="n">fir</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

<span class="c1"># Show image.</span>
<span class="k">while</span><span class="p">(</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">sensor</span><span class="o">.</span><span class="n">snapshot</span><span class="p">()</span>
    <span class="n">ta</span><span class="p">,</span> <span class="n">ir</span><span class="p">,</span> <span class="n">to_min</span><span class="p">,</span> <span class="n">to_max</span> <span class="o">=</span> <span class="n">fir</span><span class="o">.</span><span class="n">read_ir</span><span class="p">()</span>
    <span class="n">fir</span><span class="o">.</span><span class="n">draw_ir</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">ir</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;====================&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Ambient temperature: </span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">ta</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Min temperature seen: </span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">to_min</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Max temperature seen: </span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">to_max</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="fir.fir.init">
<code class="descclassname">fir.</code><code class="descname">init</code><span class="sig-paren">(</span><span class="optional">[</span><em>type=-1</em><span class="optional">[</span>, <em>refresh</em><span class="optional">[</span>, <em>resolution</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes an attached thermopile shield using I/O pins P4 and P5 (and P0, P1, P2, P3 for <a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>)</p>
<p><code class="docutils literal notranslate"><span class="pre">type</span></code> indicates the type of thermopile shield:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a>: 0 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a>: 16x4 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>: 16x4 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a>: 32x24 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>: 16x12 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>: 8x8 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>: 80x60 pixels (FLIR Lepton 1.x/2.x) or 160x120 pixels (FLIR Lepton 3.x)</li>
</ul>
</div></blockquote>
<p>By default type is <code class="docutils literal notranslate"><span class="pre">-1</span></code> which will cause <a class="reference internal" href="#fir.fir.init" title="fir.fir.init"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.init()</span></code></a> to automatically scan and initialize an
attached thermal sensor based on the I2C address. Note that <a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a> and
<a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a> have the same I2C address so you must pass <a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a> to type
to initialize it specifically.</p>
<p><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a> on the OpenMV Cam Pure Thermal this uses internal I/O pins and does not use P0-P5.</p>
<p><code class="docutils literal notranslate"><span class="pre">refresh</span></code> is the thermopile sensor power-of-2 refresh rate in Hz:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a>: N/A</li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a>: Defaults to 64 Hz. Can be 1 Hz, 2 Hz, 4 Hz, 8 Hz, 16 Hz, 32 Hz, 64 Hz, 128 Hz, 256 Hz, or 512 Hz. Note that a higher refresh rate lowers the accuracy and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>: Defaults to 64 Hz. Can be 1 Hz, 2 Hz, 4 Hz, 8 Hz, 16 Hz, 32 Hz, 64 Hz, 128 Hz, 256 Hz, or 512 Hz. Note that a higher refresh rate lowers the accuracy and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a>: Defaults to 32 Hz. Can be 1 Hz, 2 Hz, 4 Hz, 8 Hz, 16 Hz, 32 Hz, or 64 Hz. Note that a higher refresh rate lowers the accuracy and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>: Defaults to 32 Hz. Can be 1 Hz, 2 Hz, 4 Hz, 8 Hz, 16 Hz, 32 Hz, or 64 Hz. Note that a higher refresh rate lowers the accuracy and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>: 10 Hz</li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>: 9 Hz (really 8.7 Hz).</li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">resolution</span></code> is the thermopile sensor measurement resolution:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a>: N/A</li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a>: Defaults to 18-bits. Can be 15-bits, 16-bits, 17-bits, or 18-bits. Note that a higher resolution lowers the maximum temperature range and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>: Defaults to 18-bits. Can be 15-bits, 16-bits, 17-bits, or 18-bits. Note that a higher resolution lowers the maximum temperature range and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a>: Defaults to 19-bits. Can be 16-bits, 17-bits, 18-bits, or 19-bits. Note that a higher resolution lowers the maximum temperature range and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>: Defaults to 19-bits. Can be 16-bits, 17-bits, 18-bits, or 19-bits. Note that a higher resolution lowers the maximum temperature range and vice-versa.</li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>: 12-bits.</li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>: 14-bits.</li>
</ul>
</div></blockquote>
<p>For the <a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a> and <a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li>15-bits -&gt; Max of ~950C.</li>
<li>16-bits -&gt; Max of ~750C.</li>
<li>17-bits -&gt; Max of ~600C.</li>
<li>18-bits -&gt; Max of ~450C.</li>
</ul>
</div></blockquote>
<p>For the <a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a> and <a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li>16-bits -&gt; Max of ~750C.</li>
<li>17-bits -&gt; Max of ~600C.</li>
<li>18-bits -&gt; Max of ~450C.</li>
<li>19-bits -&gt; Max of ~300C.</li>
</ul>
</div></blockquote>
<p>For the <a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li>Max of ~80C.</li>
</ul>
</div></blockquote>
<p>For the <a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>:</p>
<blockquote>
<div><ul class="simple">
<li>Max of ~140C (can be up to 400C-450C in low-gain mode).</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For <a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a> mode this driver implements triple buffering to receive the FLIR Lepton
image. This uses 28.125 KB of RAM for the FLIR Lepton 1.x/2.x and 112.5 KB of RAM for the
FLIR Lepton 3.x. Triple buffering ensures that reading an image with <a class="reference internal" href="#fir.fir.read_ir" title="fir.fir.read_ir"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.read_ir()</span></code></a> and
<a class="reference internal" href="#fir.fir.snapshot" title="fir.fir.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.snapshot()</span></code></a> never block. For all other sensors the I2C bus is accessed to read the image.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fir.fir.deinit">
<code class="descclassname">fir.</code><code class="descname">deinit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.deinit" title="Permalink to this definition">¶</a></dt>
<dd><p>Deinitializes the thermal sensor freeing up resources.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.width">
<code class="descclassname">fir.</code><code class="descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the width (horizontal resolution) of the thermal sensor in-use:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a>: 0 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a>: 16 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>: 16 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a>: 32 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>: 16 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>: 8 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>: 80 pixels (FLIR Lepton 1.x/2.x) or 160 pixels (FLIR Lepton 3.x).</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="fir.fir.height">
<code class="descclassname">fir.</code><code class="descname">height</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.height" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the height (vertical resolution) of the thermal sensor in-use:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a>: 0 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a>: 4 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a>: 4 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a>: 24 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a>: 12 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a>: 8 pixels.</li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a>: 60 pixels (FLIR Lepton 1.x/2.x) or 120 pixels (FLIR Lepton 3.x).</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="fir.fir.type">
<code class="descclassname">fir.</code><code class="descname">type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of the thermal sensor in-use:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="#fir.fir.FIR_NONE" title="fir.fir.FIR_NONE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_NONE</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_SHIELD" title="fir.fir.FIR_SHIELD"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_SHIELD</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90621" title="fir.fir.FIR_MLX90621"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90621</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90640" title="fir.fir.FIR_MLX90640"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90640</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_MLX90641" title="fir.fir.FIR_MLX90641"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_MLX90641</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_AMG8833" title="fir.fir.FIR_AMG8833"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_AMG8833</span></code></a></li>
<li><a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="fir.fir.refresh">
<code class="descclassname">fir.</code><code class="descname">refresh</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current refresh rate set during <a class="reference internal" href="#fir.fir.init" title="fir.fir.init"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.init()</span></code></a> call.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.resolution">
<code class="descclassname">fir.</code><code class="descname">resolution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.resolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current resolution set during the <a class="reference internal" href="#fir.fir.init" title="fir.fir.init"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.init()</span></code></a> call.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.radiometric">
<code class="descclassname">fir.</code><code class="descname">radiometric</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.radiometric" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns if the thermal sensor reports accurate temperature readings (True or False). If False
this means that the thermal sensor reports relative temperature readings based on its ambient
temperature which may not be very accurate.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.register_vsync_cb">
<code class="descclassname">fir.</code><code class="descname">register_vsync_cb</code><span class="sig-paren">(</span><em>cb</em><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.register_vsync_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>For the <a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a> mode only on the OpenMV Cam Pure Thermal.</p>
<p>Registers callback <code class="docutils literal notranslate"><span class="pre">cb</span></code> to be executed (in interrupt context) whenever the FLIR Lepton
generates a new frame. This nomially triggers at 9 Hz.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.trigger_ffc">
<code class="descclassname">fir.</code><code class="descname">trigger_ffc</code><span class="sig-paren">(</span><em>timeout</em><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.trigger_ffc" title="Permalink to this definition">¶</a></dt>
<dd><p>For the <a class="reference internal" href="#fir.fir.FIR_LEPTON" title="fir.fir.FIR_LEPTON"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.FIR_LEPTON</span></code></a> mode only.</p>
<p>Triggers the Flat-Field-Correction process on your FLIR Lepton which calibrates the thermal
image. This process happens automatically with the sensor. However, you may call this function
to force the process to happen. This function will block for up to 5000 ms by default but you may
pass a different timeout value.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.read_ta">
<code class="descclassname">fir.</code><code class="descname">read_ta</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.read_ta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ambient temperature (i.e. sensor temperature).</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ta</span> <span class="o">=</span> <span class="n">fir</span><span class="o">.</span><span class="n">read_ta</span><span class="p">()</span>
</pre></div>
</div>
<p>The value returned is a float that represents the temperature in celsius.</p>
</dd></dl>

<dl class="function">
<dt id="fir.fir.read_ir">
<code class="descclassname">fir.</code><code class="descname">read_ir</code><span class="sig-paren">(</span><span class="optional">[</span><em>hmirror=False</em><span class="optional">[</span>, <em>vflip=False</em><span class="optional">[</span>, <em>transpose=False</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.read_ir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple containing the ambient temperature (i.e. sensor temperature),
the temperature list (width * height), the minimum temperature seen, and
the maximum temperature seen.</p>
<p><code class="docutils literal notranslate"><span class="pre">hmirror</span></code> if set to True horizontally mirrors the <code class="docutils literal notranslate"><span class="pre">ir</span></code> array.</p>
<p><code class="docutils literal notranslate"><span class="pre">vflip</span></code> if set to True vertically flips the <code class="docutils literal notranslate"><span class="pre">ir</span></code> array.</p>
<p><code class="docutils literal notranslate"><span class="pre">transpose</span></code> if set to True transposes the <code class="docutils literal notranslate"><span class="pre">ir</span></code> array.</p>
<p>If you want to rotate an image by multiples of 90 degrees pass the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hmirror</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">transpose</span><span class="o">=</span><span class="kc">False</span> <span class="o">-&gt;</span> <span class="mi">0</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">hmirror</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">transpose</span><span class="o">=</span><span class="kc">True</span>  <span class="o">-&gt;</span> <span class="mi">90</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">hmirror</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">transpose</span><span class="o">=</span><span class="kc">False</span> <span class="o">-&gt;</span> <span class="mi">180</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hmirror</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">transpose</span><span class="o">=</span><span class="kc">True</span>  <span class="o">-&gt;</span> <span class="mi">270</span> <span class="n">degree</span> <span class="n">rotation</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ta</span><span class="p">,</span> <span class="n">ir</span><span class="p">,</span> <span class="n">to_min</span><span class="p">,</span> <span class="n">to_max</span> <span class="o">=</span> <span class="n">fir</span><span class="o">.</span><span class="n">read_ir</span><span class="p">()</span>
</pre></div>
</div>
<p>The values returned are floats that represent the temperature in celsius.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">ir</span></code> is a (width * height) list of floats (4-bytes each).</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fir.fir.draw_ir">
<code class="descclassname">fir.</code><code class="descname">draw_ir</code><span class="sig-paren">(</span><em>image</em>, <em>ir</em><span class="optional">[</span>, <em>x</em><span class="optional">[</span>, <em>y</em><span class="optional">[</span>, <em>x_scale=1.0</em><span class="optional">[</span>, <em>y_scale=1.0</em><span class="optional">[</span>, <em>roi=None</em><span class="optional">[</span>, <em>rgb_channel=-1</em><span class="optional">[</span>, <em>alpha=128</em><span class="optional">[</span>, <em>color_palette=fir.PALETTE_RAINBOW</em><span class="optional">[</span>, <em>alpha_palette=-1</em><span class="optional">[</span>, <em>hint=0</em><span class="optional">[</span>, <em>x_size=None</em><span class="optional">[</span>, <em>y_size=None</em><span class="optional">[</span>, <em>scale=(ir_min</em>, <em>ir_max)</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.draw_ir" title="Permalink to this definition">¶</a></dt>
<dd><p>Draws an <code class="docutils literal notranslate"><span class="pre">ir</span></code> array on <code class="docutils literal notranslate"><span class="pre">image</span></code> whose top-left corner starts at location x, y. You may either pass x, y
separately, as a tuple (x, y), or not at all. This method automatically handles rendering the image passed
into the correct pixel format for the destination image while also handling clipping seamlessly.</p>
<p><code class="docutils literal notranslate"><span class="pre">x_scale</span></code> controls how much the drawn image is scaled by in the x direction (float). If this
value is negative the image will be flipped horizontally.</p>
<p><code class="docutils literal notranslate"><span class="pre">y_scale</span></code> controls how much the drawn image is scaled by in the y direction (float). If this
value is negative the image will be flipped vertically.</p>
<p><code class="docutils literal notranslate"><span class="pre">roi</span></code> is the region-of-interest rectangle tuple (x, y, w, h) of the source image to draw. This
allows you to extract just the pixels in the ROI to scale and draw on the destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> is the RGB channel (0=R, G=1, B=2) to extract from an RGB565 image (if passed)
and to render onto the destination image. For example, if you pass <code class="docutils literal notranslate"><span class="pre">rgb_channel=1</span></code> this will
extract the green channel of the source RGB565 image and draw that in grayscale on the
destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">alpha</span></code> controls how much of the source image to blend into the destination image. A value of
256 draws an opaque source image while a value lower than 256 produces a blend between the source
and destination image. 0 results in no modification to the destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">color_palette</span></code> if not <code class="docutils literal notranslate"><span class="pre">-1</span></code> can be <a class="reference internal" href="omv.sensor.html#sensor.sensor.PALETTE_RAINBOW" title="sensor.sensor.PALETTE_RAINBOW"><code class="xref any py py-data docutils literal notranslate"><span class="pre">sensor.PALETTE_RAINBOW</span></code></a>, <a class="reference internal" href="omv.sensor.html#sensor.sensor.PALETTE_IRONBOW" title="sensor.sensor.PALETTE_IRONBOW"><code class="xref any py py-data docutils literal notranslate"><span class="pre">sensor.PALETTE_IRONBOW</span></code></a>, or
a 256 pixel in total RGB565 image to use as a color lookup table on the grayscale value of
whatever the source image is. This is applied after <code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> extraction if used.</p>
<p><code class="docutils literal notranslate"><span class="pre">alpha_palette</span></code> if not <code class="docutils literal notranslate"><span class="pre">-1</span></code> can be a 256 pixel in total GRAYSCALE image to use as a alpha
palette which modulates the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> value of the source image being drawn at a pixel pixel
level allowing you to precisely control the alpha value of pixels based on their grayscale value.
A pixel value of 255 in the alpha lookup table is opaque which anything less than 255 becomes
more transparent until 0. This is applied after <code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> extraction if used.</p>
<p><code class="docutils literal notranslate"><span class="pre">hint</span></code> can be a logical OR of the flags:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="omv.image.html#image.image.AREA" title="image.image.AREA"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.AREA</span></code></a>: Use area scaling when downscaling versus the default of nearest neighbor.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BILINEAR" title="image.image.BILINEAR"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BILINEAR</span></code></a>: Use bilinear scaling versus the default of nearest neighbor scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BICUBIC" title="image.image.BICUBIC"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BICUBIC</span></code></a>: Use bicubic scaling versus the default of nearest neighbor scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.CENTER" title="image.image.CENTER"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.CENTER</span></code></a>: Center the image image being draw on (x, y).</li>
<li><a class="reference internal" href="omv.image.html#image.image.EXTRACT_RGB_CHANNEL_FIRST" title="image.image.EXTRACT_RGB_CHANNEL_FIRST"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.EXTRACT_RGB_CHANNEL_FIRST</span></code></a>: Do rgb_channel extraction before scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.APPLY_COLOR_PALETTE_FIRST" title="image.image.APPLY_COLOR_PALETTE_FIRST"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.APPLY_COLOR_PALETTE_FIRST</span></code></a>: Apply color palette before scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BLACK_BACKGROUND" title="image.image.BLACK_BACKGROUND"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BLACK_BACKGROUND</span></code></a>: Assume the destination image is black. This speeds up drawing.</li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">x_size</span></code> may be passed if <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> is not passed to specify the size of the image to draw
and <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> will automatically be determined passed on the input image size. If neither
<code class="docutils literal notranslate"><span class="pre">y_scale</span></code> or <code class="docutils literal notranslate"><span class="pre">y_size</span></code> are specified then <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> internally will be set to be equal to
<code class="docutils literal notranslate"><span class="pre">x_size</span></code> to maintain the aspect-ratio.</p>
<p><code class="docutils literal notranslate"><span class="pre">y_size</span></code> may be passed if <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> is not passed to specify the size of the image to draw
and <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> will automatically be determined passed on the input image size. If neither
<code class="docutils literal notranslate"><span class="pre">x_scale</span></code> or <code class="docutils literal notranslate"><span class="pre">x_size</span></code> are specified then <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> internally will be set to be equal to
<code class="docutils literal notranslate"><span class="pre">y_size</span></code> to maintain the aspect-ratio.</p>
<p><code class="docutils literal notranslate"><span class="pre">scale</span></code> is a two value tuple which controls the min and max temperature (in celsius) to scale
the <code class="docutils literal notranslate"><span class="pre">ir</span></code> image. By default it’s equal to the image <code class="docutils literal notranslate"><span class="pre">ir</span></code> min and <code class="docutils literal notranslate"><span class="pre">ir</span></code> max.</p>
<p>If x/y are not specified the image will be centered in the field of view. If x_scale/y_scale or
x_size/y_size are not specified the <code class="docutils literal notranslate"><span class="pre">ir</span></code> array will be scaled to fit on the <code class="docutils literal notranslate"><span class="pre">image</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To handle a transposed <code class="docutils literal notranslate"><span class="pre">ir</span></code> array <a class="reference internal" href="#fir.fir.read_ir" title="fir.fir.read_ir"><code class="xref any py py-func docutils literal notranslate"><span class="pre">read_ir</span></code></a> remembers if it was called with <code class="docutils literal notranslate"><span class="pre">transposed</span></code>
<code class="docutils literal notranslate"><span class="pre">True</span></code>. This is then passed to <code class="docutils literal notranslate"><span class="pre">draw_ir</span></code> internally. However, you may pass a 3-value tuple
(w, h, ir) as the <code class="docutils literal notranslate"><span class="pre">ir</span></code> array instead to use <a class="reference internal" href="#fir.fir.draw_ir" title="fir.fir.draw_ir"><code class="xref any py py-func docutils literal notranslate"><span class="pre">draw_ir</span></code></a> to draw any floating point array with
width <code class="docutils literal notranslate"><span class="pre">w</span></code> and height <code class="docutils literal notranslate"><span class="pre">h</span></code>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="fir.fir.snapshot">
<code class="descclassname">fir.</code><code class="descname">snapshot</code><span class="sig-paren">(</span><span class="optional">[</span><em>hmirror=False</em><span class="optional">[</span>, <em>vflip=False</em><span class="optional">[</span>, <em>transpose=False</em><span class="optional">[</span>, <em>x_scale=1.0</em><span class="optional">[</span>, <em>y_scale=1.0</em><span class="optional">[</span>, <em>roi=None</em><span class="optional">[</span>, <em>rgb_channel=-1</em><span class="optional">[</span>, <em>alpha=128</em><span class="optional">[</span>, <em>color_palette=fir.PALETTE_RAINBOW</em><span class="optional">[</span>, <em>alpha_palette=None</em><span class="optional">[</span>, <em>hint=0</em><span class="optional">[</span>, <em>x_size=None</em><span class="optional">[</span>, <em>y_size=None</em><span class="optional">[</span>, <em>scale=(ir_min</em>, <em>ir_max)</em><span class="optional">[</span>, <em>pixformat=fir.PIXFORMAT_RGB565</em><span class="optional">[</span>, <em>copy_to_fb=False</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#fir.fir.snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like <a class="reference internal" href="omv.sensor.html#sensor.sensor.snapshot" title="sensor.sensor.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">sensor.snapshot()</span></code></a> and returns an <a class="reference internal" href="omv.image.html#module-image" title="image: machine vision"><code class="xref any py py-mod docutils literal notranslate"><span class="pre">image</span></code></a> object that is either
<a class="reference internal" href="#fir.fir.PIXFORMAT_GRAYSCALE" title="fir.fir.PIXFORMAT_GRAYSCALE"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.PIXFORMAT_GRAYSCALE</span></code></a> (grayscale) or <a class="reference internal" href="#fir.fir.PIXFORMAT_RGB565" title="fir.fir.PIXFORMAT_RGB565"><code class="xref any py py-data docutils literal notranslate"><span class="pre">fir.PIXFORMAT_RGB565</span></code></a> (color). If <code class="docutils literal notranslate"><span class="pre">copy_to_fb</span></code> is False then
the new image is allocated on the MicroPython heap. However, the MicroPython heap is limited
and may not have space to store the new image if exhausted. Instead, set <code class="docutils literal notranslate"><span class="pre">copy_to_fb</span></code> to
True to set the frame buffer to the new image making this function work just like <a class="reference internal" href="omv.sensor.html#sensor.sensor.snapshot" title="sensor.sensor.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">sensor.snapshot()</span></code></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">hmirror</span></code> if set to True horizontally mirrors the new image.</p>
<p><code class="docutils literal notranslate"><span class="pre">vflip</span></code> if set to True vertically flips the new image.</p>
<p><code class="docutils literal notranslate"><span class="pre">transpose</span></code> if set to True transposes the new image.</p>
<p>If you want to rotate an image by multiples of 90 degrees pass the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hmirror</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">transpose</span><span class="o">=</span><span class="kc">False</span> <span class="o">-&gt;</span> <span class="mi">0</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">hmirror</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">transpose</span><span class="o">=</span><span class="kc">True</span>  <span class="o">-&gt;</span> <span class="mi">90</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">hmirror</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">transpose</span><span class="o">=</span><span class="kc">False</span> <span class="o">-&gt;</span> <span class="mi">180</span> <span class="n">degree</span> <span class="n">rotation</span>
<span class="o">*</span> <span class="n">vflip</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">hmirror</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">transpose</span><span class="o">=</span><span class="kc">True</span>  <span class="o">-&gt;</span> <span class="mi">270</span> <span class="n">degree</span> <span class="n">rotation</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">x_scale</span></code> controls how much the drawn image is scaled by in the x direction (float). If this
value is negative the image will be flipped horizontally.</p>
<p><code class="docutils literal notranslate"><span class="pre">y_scale</span></code> controls how much the drawn image is scaled by in the y direction (float). If this
value is negative the image will be flipped vertically.</p>
<p><code class="docutils literal notranslate"><span class="pre">roi</span></code> is the region-of-interest rectangle tuple (x, y, w, h) of the source image to draw. This
allows you to extract just the pixels in the ROI to scale and draw on the destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> is the RGB channel (0=R, G=1, B=2) to extract from an RGB565 image (if passed)
and to render onto the destination image. For example, if you pass <code class="docutils literal notranslate"><span class="pre">rgb_channel=1</span></code> this will
extract the green channel of the source RGB565 image and draw that in grayscale on the
destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">alpha</span></code> controls how much of the source image to blend into the destination image. A value of
256 draws an opaque source image while a value lower than 256 produces a blend between the source
and destination image. 0 results in no modification to the destination image.</p>
<p><code class="docutils literal notranslate"><span class="pre">color_palette</span></code> if not <code class="docutils literal notranslate"><span class="pre">-1</span></code> can be <a class="reference internal" href="omv.sensor.html#sensor.sensor.PALETTE_RAINBOW" title="sensor.sensor.PALETTE_RAINBOW"><code class="xref any py py-data docutils literal notranslate"><span class="pre">sensor.PALETTE_RAINBOW</span></code></a>, <a class="reference internal" href="omv.sensor.html#sensor.sensor.PALETTE_IRONBOW" title="sensor.sensor.PALETTE_IRONBOW"><code class="xref any py py-data docutils literal notranslate"><span class="pre">sensor.PALETTE_IRONBOW</span></code></a>, or
a 256 pixel in total RGB565 image to use as a color lookup table on the grayscale value of
whatever the source image is. This is applied after <code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> extraction if used.</p>
<p><code class="docutils literal notranslate"><span class="pre">alpha_palette</span></code> if not <code class="docutils literal notranslate"><span class="pre">-1</span></code> can be a 256 pixel in total GRAYSCALE image to use as a alpha
palette which modulates the <code class="docutils literal notranslate"><span class="pre">alpha</span></code> value of the source image being drawn at a pixel pixel
level allowing you to precisely control the alpha value of pixels based on their grayscale value.
A pixel value of 255 in the alpha lookup table is opaque which anything less than 255 becomes
more transparent until 0. This is applied after <code class="docutils literal notranslate"><span class="pre">rgb_channel</span></code> extraction if used.</p>
<p><code class="docutils literal notranslate"><span class="pre">hint</span></code> can be a logical OR of the flags:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="omv.image.html#image.image.AREA" title="image.image.AREA"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.AREA</span></code></a>: Use area scaling when downscaling versus the default of nearest neighbor.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BILINEAR" title="image.image.BILINEAR"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BILINEAR</span></code></a>: Use bilinear scaling versus the default of nearest neighbor scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BICUBIC" title="image.image.BICUBIC"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BICUBIC</span></code></a>: Use bicubic scaling versus the default of nearest neighbor scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.CENTER" title="image.image.CENTER"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.CENTER</span></code></a>: Center the image image being draw on (x, y).</li>
<li><a class="reference internal" href="omv.image.html#image.image.EXTRACT_RGB_CHANNEL_FIRST" title="image.image.EXTRACT_RGB_CHANNEL_FIRST"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.EXTRACT_RGB_CHANNEL_FIRST</span></code></a>: Do rgb_channel extraction before scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.APPLY_COLOR_PALETTE_FIRST" title="image.image.APPLY_COLOR_PALETTE_FIRST"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.APPLY_COLOR_PALETTE_FIRST</span></code></a>: Apply color palette before scaling.</li>
<li><a class="reference internal" href="omv.image.html#image.image.BLACK_BACKGROUND" title="image.image.BLACK_BACKGROUND"><code class="xref any py py-data docutils literal notranslate"><span class="pre">image.BLACK_BACKGROUND</span></code></a>: Assume the destination image is black. This speeds up drawing.</li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">x_size</span></code> may be passed if <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> is not passed to specify the size of the image to draw
and <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> will automatically be determined passed on the input image size. If neither
<code class="docutils literal notranslate"><span class="pre">y_scale</span></code> or <code class="docutils literal notranslate"><span class="pre">y_size</span></code> are specified then <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> internally will be set to be equal to
<code class="docutils literal notranslate"><span class="pre">x_size</span></code> to maintain the aspect-ratio.</p>
<p><code class="docutils literal notranslate"><span class="pre">y_size</span></code> may be passed if <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> is not passed to specify the size of the image to draw
and <code class="docutils literal notranslate"><span class="pre">y_scale</span></code> will automatically be determined passed on the input image size. If neither
<code class="docutils literal notranslate"><span class="pre">x_scale</span></code> or <code class="docutils literal notranslate"><span class="pre">x_size</span></code> are specified then <code class="docutils literal notranslate"><span class="pre">x_scale</span></code> internally will be set to be equal to
<code class="docutils literal notranslate"><span class="pre">y_size</span></code> to maintain the aspect-ratio.</p>
<p><code class="docutils literal notranslate"><span class="pre">scale</span></code> is a two value tuple which controls the min and max temperature (in celsius) to scale
the <code class="docutils literal notranslate"><span class="pre">ir</span></code> image. By default it’s equal to the image <code class="docutils literal notranslate"><span class="pre">ir</span></code> min and <code class="docutils literal notranslate"><span class="pre">ir</span></code> max.</p>
<p><code class="docutils literal notranslate"><span class="pre">pixformat</span></code> if specified controls the final image pixel format.</p>
<p><code class="docutils literal notranslate"><span class="pre">copy_to_fb</span></code> may also be another image object if you want to replace that image object’s memory
buffer, type, width, and height with new image data.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any use of <code class="docutils literal notranslate"><span class="pre">copy_to_fb</span></code> invalidates the previous image object it overwrites. Do not use
any references to previous image objects anymore it overwrites. Either for an image object
referencing the frame buffer, frame buffer stack, or an image on the MicroPython heap.</p>
</div>
<p>Returns an image object.</p>
</dd></dl>

</div>
<div class="section" id="constants">
<h2>Constants<a class="headerlink" href="#constants" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="fir.fir.FIR_NONE">
<code class="descclassname">fir.</code><code class="descname">FIR_NONE</code><a class="headerlink" href="#fir.fir.FIR_NONE" title="Permalink to this definition">¶</a></dt>
<dd><p>No FIR sensor type.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_SHIELD">
<code class="descclassname">fir.</code><code class="descname">FIR_SHIELD</code><a class="headerlink" href="#fir.fir.FIR_SHIELD" title="Permalink to this definition">¶</a></dt>
<dd><p>The OpenMV Cam Thermopile Shield Type (MLX90621).</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_MLX90621">
<code class="descclassname">fir.</code><code class="descname">FIR_MLX90621</code><a class="headerlink" href="#fir.fir.FIR_MLX90621" title="Permalink to this definition">¶</a></dt>
<dd><p>FIR_MLX90621 FIR sensor.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_MLX90640">
<code class="descclassname">fir.</code><code class="descname">FIR_MLX90640</code><a class="headerlink" href="#fir.fir.FIR_MLX90640" title="Permalink to this definition">¶</a></dt>
<dd><p>FIR_MLX90640 FIR sensor.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_MLX90641">
<code class="descclassname">fir.</code><code class="descname">FIR_MLX90641</code><a class="headerlink" href="#fir.fir.FIR_MLX90641" title="Permalink to this definition">¶</a></dt>
<dd><p>FIR_MLX90640 FIR sensor.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_AMG8833">
<code class="descclassname">fir.</code><code class="descname">FIR_AMG8833</code><a class="headerlink" href="#fir.fir.FIR_AMG8833" title="Permalink to this definition">¶</a></dt>
<dd><p>FIR_AMG8833 FIR sensor.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.FIR_LEPTON">
<code class="descclassname">fir.</code><code class="descname">FIR_LEPTON</code><a class="headerlink" href="#fir.fir.FIR_LEPTON" title="Permalink to this definition">¶</a></dt>
<dd><p>FIR_LEPTON FIR sensor.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.PALETTE_RAINBOW">
<code class="descclassname">fir.</code><code class="descname">PALETTE_RAINBOW</code><a class="headerlink" href="#fir.fir.PALETTE_RAINBOW" title="Permalink to this definition">¶</a></dt>
<dd><p>Rainbow color palette for <a class="reference internal" href="#fir.fir.draw_ir" title="fir.fir.draw_ir"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.draw_ir()</span></code></a> and <a class="reference internal" href="#fir.fir.snapshot" title="fir.fir.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.snapshot()</span></code></a>.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.PALETTE_IRONBOW">
<code class="descclassname">fir.</code><code class="descname">PALETTE_IRONBOW</code><a class="headerlink" href="#fir.fir.PALETTE_IRONBOW" title="Permalink to this definition">¶</a></dt>
<dd><p>Ironbow color palette for <a class="reference internal" href="#fir.fir.draw_ir" title="fir.fir.draw_ir"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.draw_ir()</span></code></a> and <a class="reference internal" href="#fir.fir.snapshot" title="fir.fir.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.snapshot()</span></code></a>.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.PIXFORMAT_GRAYSCALE">
<code class="descclassname">fir.</code><code class="descname">PIXFORMAT_GRAYSCALE</code><a class="headerlink" href="#fir.fir.PIXFORMAT_GRAYSCALE" title="Permalink to this definition">¶</a></dt>
<dd><p>GRAYSCALE pixformat for <a class="reference internal" href="#fir.fir.snapshot" title="fir.fir.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.snapshot()</span></code></a>.</p>
</dd></dl>

<dl class="data">
<dt id="fir.fir.PIXFORMAT_RGB565">
<code class="descclassname">fir.</code><code class="descname">PIXFORMAT_RGB565</code><a class="headerlink" href="#fir.fir.PIXFORMAT_RGB565" title="Permalink to this definition">¶</a></dt>
<dd><p>RGB565 pixformat for <a class="reference internal" href="#fir.fir.snapshot" title="fir.fir.snapshot"><code class="xref any py py-func docutils literal notranslate"><span class="pre">fir.snapshot()</span></code></a>.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="omv.tv.html" class="btn btn-neutral float-right" title="tv — tv shield driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="omv.lcd.html" class="btn btn-neutral float-left" title="lcd — lcd driver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2020, Damien P. George, Paul Sokolovsky, OpenMV LLC, and contributors
      <span class="lastupdated">
        Last updated on 28 Jan 2021.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Language and External Links</span>
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Language</dt>
      <dd>
        <a href="https://openmv.io">English</a>
      </dd>
      <dd>
        <a href="http://doc.singtown.cc">中文</a>
      </dd>
    </dl>
    <hr/>
    <dl>
      <dt>External links</dt>
      <dd>
        <a href="https://openmv.io">openmv.io</a>
      </dd>
      <dd>
        <a href="http://forums.openmv.io">forums.openmv.io</a>
      </dd>
      <dd>
        <a href="https://github.com/openmv/openmv">github.com/openmv/openmv</a>
      </dd>
      <dd>
        <a href="http://micropython.org">micropython.org</a>
      </dd>
      <dd>
        <a href="http://forum.micropython.org">forum.micropython.org</a>
      </dd>
      <dd>
        <a href="https://github.com/micropython/micropython">github.com/micropython/micropython</a>
      </dd>
    </dl>
  </div>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>